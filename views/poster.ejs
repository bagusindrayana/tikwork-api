<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Poster - <%= job.job_title %></title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --nav-height: 60px;
        }
    </style>
    <style type="text/tailwindcss">
        @layer utilities {
            /* Pattern utilities */
            .pattern-radial-dots {
                background-image: radial-gradient(currentColor 1px, transparent 1px);
                background-size: 24px 24px;
            }
            .pattern-grid-lines {
                background-image: 
                    repeating-linear-gradient(0deg, transparent, transparent 49px, currentColor 50px),
                    repeating-linear-gradient(90deg, transparent, transparent 49px, currentColor 50px);
            }
            .pattern-diagonal-stripes {
                background: repeating-linear-gradient(45deg, transparent, transparent 10px, currentColor 10px, currentColor 20px);
            }
            .pattern-zigzag {
                background-image: 
                    linear-gradient(135deg, currentColor 25%, transparent 25%),
                    linear-gradient(225deg, currentColor 25%, transparent 25%),
                    linear-gradient(45deg, currentColor 25%, transparent 25%),
                    linear-gradient(315deg, currentColor 25%, transparent 25%);
                background-position: 10px 0, 10px 0, 0 0, 0 0;
                background-size: 20px 20px;
                background-repeat: repeat;
            }
            .pattern-polka-pop {
                background-image: 
                    radial-gradient(currentColor 20%, transparent 20%),
                    radial-gradient(currentColor 20%, transparent 20%);
                background-position: 0 0, 15px 15px;
                background-size: 30px 30px;
            }
            .pattern-waves {
                background-image: radial-gradient(circle at 100% 50%, transparent 20px, currentColor 20px, currentColor 22px, transparent 22px),
                    radial-gradient(circle at 0 50%, transparent 20px, currentColor 20px, currentColor 22px, transparent 22px);
                background-size: 44px 44px;
                background-position: 0 0, 22px 22px;
            }
            
            /* Custom font classes */
            .font-oswald { font-family: 'Oswald', sans-serif; }
            .font-comic { font-family: 'Comic Sans MS', cursive; }
            .font-retro { font-family: 'Press Start 2K', monospace; }
            .font-display-heavy { font-family: 'Impact', sans-serif; }
            
            /* Title sizing */
            .title-short { font-size: clamp(2.2rem, 5.2vw, 3.6rem); }
            .title-medium { font-size: clamp(1.8rem, 4.6vw, 2.8rem); }
            .title-long { font-size: clamp(1.4rem, 4.0vw, 2.0rem); word-wrap: break-word; }
            .title-super-long { font-size: clamp(1.15rem, 3.6vw, 1.7rem); word-wrap: break-word; line-height: 1.15 !important; }
            
            /* Button styles */
            .btn-solid-pill {
                @apply rounded-full px-6 py-3 font-bold transition-all duration-300;
            }
            .btn-outline-neon {
                @apply border-2 border-current bg-transparent rounded-full px-6 py-3 font-bold transition-all duration-300 hover:bg-current hover:text-background;
            }
            .btn-glass {
                @apply backdrop-blur-lg bg-white/20 border border-white/30 rounded-full px-6 py-3 font-bold transition-all duration-300 hover:bg-white/30;
            }
            .btn-brutalist {
                @apply border-4 border-current bg-background text-current font-bold px-6 py-3 transform hover:translate-x-1 hover:translate-y-1 transition-all duration-200;
            }
            .btn-gradient-shine {
                @apply bg-gradient-to-r from-current to-current/80 rounded-full px-6 py-3 font-bold transition-all duration-300 hover:opacity-90;
            }
            
            /* Layout utilities */
            .layout-centered { @apply flex flex-col items-center justify-center text-center; }
            .layout-left-aligned { @apply flex flex-col items-start justify-center text-left; }
            .layout-card-center { @apply flex items-center justify-center; }
            .layout-split-vertical { @apply flex flex-col justify-between text-center; }
            .layout-minimalist { @apply flex flex-col items-center justify-center text-center gap-8; }
            
            /* Component ordering */
            .order-1 { order: 1; }
            .order-2 { order: 2; }
            .order-3 { order: 3; }
            .order-4 { order: 4; }
            
            /* Animation utilities */
            @keyframes bounce {
                0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
                40% { transform: translateY(-10px); }
                60% { transform: translateY(-5px); }
            }
            .animate-bounce-custom {
                animation: bounce 2s infinite;
            }
        }
    </style>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;700&family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body class="flex justify-center items-center min-h-screen bg-gray-900 p-0 m-0">
    <% 
        const palette = config.palette;
        const pattern = config.pattern || 'none';
        const font = config.font || 'font-sans';
        const layout = config.layout || 'centered';
        const decoration = config.decoration || 'none';
        const buttonStyle = config.buttonStyle || 'solid-pill';
        const titleLength = config.titleLength || 'medium';
        const components = config.components || { badge: 1, title: 2, info: 3, cta: 4 };
    %>
    
    <!-- Main Poster Container -->
    <div class="w-full max-w-[420px] aspect-[9/16] relative overflow-hidden shadow-2xl <%= palette.bg %> <%= palette.text %> <%= font %>">
        
        <!-- Pattern Overlay -->
        <% if (pattern !== 'none') { %>
            <div class="absolute inset-0 opacity-10 <%= pattern === 'radial-dots' ? 'pattern-radial-dots' : '' %> <%= pattern === 'grid-lines' ? 'pattern-grid-lines' : '' %> <%= pattern === 'diagonal-stripes' ? 'pattern-diagonal-stripes' : '' %> <%= pattern === 'zigzag' ? 'pattern-zigzag' : '' %> <%= pattern === 'polka-pop' ? 'pattern-polka-pop' : '' %> <%= pattern === 'waves' ? 'pattern-waves' : '' %>"></div>
        <% } %>
        
        <!-- Decorative Elements -->
        <% if (decoration === 'circles') { %>
            <div class="absolute -top-20 -right-20 w-96 h-96 rounded-full <%= palette.accent %> blur-3xl opacity-50"></div>
            <div class="absolute -bottom-20 -left-20 w-80 h-80 rounded-full <%= palette.accent %> blur-3xl opacity-50"></div>
        <% } else if (decoration === 'watermark-logo') { %>
            <div class="absolute inset-0 flex items-center justify-center opacity-5">
                <div class="text-9xl font-bold">TIKWORK</div>
            </div>
        <% } else if (decoration === 'border-frame') { %>
            <div class="absolute inset-0 border-8 border-current border-opacity-20 rounded-lg m-4"></div>
        <% } %>
        
        <!-- Content Container -->
        <div class="absolute top-0 left-0 right-0 bottom-0 flex flex-col p-8 pt-12 overflow-hidden <%= 
            layout === 'centered' ? 'layout-centered gap-6' :
            layout === 'left-aligned' ? 'layout-left-aligned gap-6' :
            layout === 'card-center' ? 'layout-card-center' :
            layout === 'split-vertical' ? 'layout-split-vertical' :
            layout === 'minimalist' ? 'layout-minimalist' :
            layout === 'tiktok-modern' ? 'flex flex-col px-6 pt-24 pb-6 bg-gradient-to-b from-teal-900 via-gray-900 to-rose-900 text-white font-sans' :
            layout === 'modern-split' ? 'flex flex-col pt-16 bg-white text-black font-sans' :
            layout === 'cyber-grid' ? 'flex flex-col px-8 pt-12 pb-40 bg-zinc-900 text-green-400 font-mono' :
            layout === 'bold-typography' ? 'flex flex-col justify-center px-6 pt-24 bg-neutral-900 text-white font-sans' :
            layout === 'neobrutalism' ? 'flex flex-col p-3 pt-12 bg-[#FDF5E6] text-black font-sans' :
            layout === 'glass-modern' ? 'flex flex-col px-8 pt-12 justify-center items-center bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 text-white font-sans' :
            layout === 'meme-design' ? 'flex flex-col p-4 pt-28 bg-white text-black font-serif' :
            'layout-centered gap-6'
        %>">
            
            <!-- 1. Badge/Sticker -->
            <div class="order-<%= components.badge %> z-10">
                <% if (layout === 'tiktok-modern' || layout === 'modern-split') { %>
                    <div class="bg-white text-black px-4 py-2 font-bold text-lg rounded-lg inline-block transform rotate-[-2deg] shadow-lg">
                        #hiring • TIKWORK
                    </div>
                <% } else if (layout === 'cyber-grid') { %>
                    <div class="border border-green-400 px-4 py-2 font-mono text-sm inline-block">
                        [HIRING_ACTIVE]
                    </div>
                <% } else if (layout === 'bold-typography') { %>
                    <div class="bg-red-500 text-white px-6 py-3 font-bold text-xl inline-block transform rotate-[-3deg]">
                        WE ARE HIRING
                    </div>
                <% } else if (layout === 'neobrutalism') { %>
                    <div class="border-4 border-black bg-yellow-300 px-6 py-3 font-bold text-xl inline-block transform -rotate-2 shadow-[8px_8px_0px_0px_#000]">
                        NOW HIRING!
                    </div>
                <% } else if (layout === 'glass-modern') { %>
                    <div class="backdrop-blur-lg bg-white/20 border border-white/30 px-6 py-3 rounded-full font-bold inline-block">
                        <i class="fas fa-bolt mr-2"></i>HIRING
                    </div>
                <% } else { %>
                    <div class="bg-white/20 backdrop-blur-sm px-6 py-3 rounded-full font-bold inline-block">
                        WE ARE HIRING
                    </div>
                <% } %>
            </div>
            
            <!-- 2. Job Title -->
            <div class="order-<%= components.title %> z-10 text-balance">
                <% if (layout === 'tiktok-modern') { %>
                    <h1 class="title-<%= titleLength %> font-black uppercase tracking-tight text-shadow-[3px_3px_0px_#FF0050] bg-black text-white inline p-2 box-decoration-clone">
                        <%= job.job_title %>
                    </h1>
                <% } else if (layout === 'cyber-grid') { %>
                    <h1 class="title-<%= titleLength %> font-mono font-bold tracking-wider text-green-400">
                        <%= job.job_title.toUpperCase() %>
                    </h1>
                <% } else if (layout === 'bold-typography') { %>
                    <h1 class="title-<%= titleLength %> font-black uppercase leading-none text-stroke-1 text-stroke-white text-transparent">
                        <%= job.job_title %>
                    </h1>
                <% } else if (layout === 'neobrutalism') { %>
                    <h1 class="title-<%= titleLength %> font-black uppercase tracking-tight border-4 border-black bg-white p-4 shadow-[12px_12px_0px_0px_#000]">
                        <%= job.job_title %>
                    </h1>
                <% } else if (layout === 'glass-modern') { %>
                    <h1 class="title-<%= titleLength %> font-bold bg-white/10 backdrop-blur-lg border border-white/20 p-4 rounded-2xl">
                        <%= job.job_title %>
                    </h1>
                <% } else { %>
                    <h1 class="title-<%= titleLength %> font-bold">
                        <%= job.job_title %>
                    </h1>
                <% } %>
            </div>
            
            <!-- 3. Info Block -->
            <div class="order-<%= components.info %> z-10 w-full">
                <% if (layout === 'tiktok-modern') { %>
                    <div class="bg-black/60 backdrop-blur-sm p-4 rounded-xl border-l-4 border-[#00F2EA]">
                        <div class="flex items-center gap-3 mb-2">
                            <img src="<%= poster.companyLogo %>" alt="logo" class="w-8 h-8 rounded-full bg-white p-1">
                            <span class="font-bold text-lg"><%= job.job_company_name %></span>
                        </div>
                        <div class="flex items-center gap-2 text-sm opacity-90">
                            <i class="fas fa-map-marker-alt text-[#FF0050]"></i>
                            <%= job.job_location || 'Remote' %> • <%= job.job_type || 'Full Time' %>
                        </div>
                        <% if (job.job_salary && job.job_salary !== 'Hidden') { %>
                            <div class="text-2xl font-bold text-[#00F2EA] mt-2">
                                <%= job.job_salary %>
                            </div>
                        <% } %>
                    </div>
                <% } else if (layout === 'cyber-grid') { %>
                    <div class="border border-green-400 p-4 font-mono text-sm">
                        <div class="mb-2">COMPANY: <span class="text-green-300"><%= job.job_company_name %></span></div>
                        <div class="mb-2">LOCATION: <span class="text-green-300"><%= job.job_location || 'REMOTE' %></span></div>
                        <div>TYPE: <span class="text-green-300"><%= job.job_type || 'FULL-TIME' %></span></div>
                        <% if (job.job_salary && job.job_salary !== 'Hidden') { %>
                            <div class="mt-3 text-green-300 font-bold">SALARY: <%= job.job_salary %></div>
                        <% } %>
                    </div>
                <% } else if (layout === 'bold-typography') { %>
                    <div class="bg-white/10 backdrop-blur p-6 rounded-xl border border-white/20">
                        <div class="text-xl font-bold mb-3"><%= job.job_company_name %></div>
                        <div class="opacity-80 mb-2"><i class="fas fa-map-marker-alt mr-2"></i><%= job.job_location || 'Remote' %></div>
                        <div class="opacity-80 mb-3"><i class="fas fa-briefcase mr-2"></i><%= job.job_type || 'Full Time' %></div>
                        <% if (job.job_salary && job.job_salary !== 'Hidden') { %>
                            <div class="text-3xl font-black text-yellow-300">
                                <%= job.job_salary %>
                            </div>
                        <% } %>
                    </div>
                <% } else if (layout === 'neobrutalism') { %>
                    <div class="border-4 border-black bg-white p-4 shadow-[8px_8px_0px_0px_#000]">
                        <div class="font-bold text-lg mb-2"><%= job.job_company_name %></div>
                        <div class="mb-1"><i class="fas fa-map-marker-alt mr-2"></i><%= job.job_location || 'Remote' %></div>
                        <div class="mb-2"><i class="fas fa-briefcase mr-2"></i><%= job.job_type || 'Full Time' %></div>
                        <% if (job.job_salary && job.job_salary !== 'Hidden') { %>
                            <div class="bg-yellow-300 border-2 border-black p-2 font-bold inline-block mt-2">
                                <%= job.job_salary %>
                            </div>
                        <% } %>
                    </div>
                <% } else if (layout === 'glass-modern') { %>
                    <div class="backdrop-blur-lg bg-white/10 border border-white/20 p-4 rounded-2xl">
                        <div class="flex items-center gap-3 mb-3">
                            <img src="<%= poster.companyLogo %>" alt="logo" class="w-10 h-10 rounded-xl bg-white p-1">
                            <div>
                                <div class="font-bold"><%= job.job_company_name %></div>
                                <div class="text-sm opacity-80"><%= job.job_location || 'Remote' %> • <%= job.job_type || 'Full Time' %></div>
                            </div>
                        </div>
                        <% if (job.job_salary && job.job_salary !== 'Hidden') { %>
                            <div class="bg-white/20 backdrop-blur border border-white/30 p-2 rounded-lg font-bold text-center mt-2">
                                <%= job.job_salary %>
                            </div>
                        <% } %>
                    </div>
                <% } else { %>
                    <div class="bg-white/10 backdrop-blur p-4 rounded-xl">
                        <div class="flex items-center gap-3 mb-2">
                            <% if (job.job_company_logo) { %>
                                <img src="<%= job.job_company_logo %>" alt="logo" class="w-10 h-10 rounded-lg bg-white p-1">
                            <% } %>
                            <span class="font-bold"><%= job.job_company_name %></span>
                        </div>
                        <div class="flex items-center gap-2 text-sm opacity-80">
                            <i class="fas fa-map-marker-alt"></i>
                            <%= job.job_location || 'Remote' %> • <%= job.job_type || 'Full Time' %>
                        </div>
                        <% if (job.job_salary && job.job_salary !== 'Hidden') { %>
                            <div class="text-xl font-bold mt-2">
                                <%= job.job_salary %>
                            </div>
                        <% } %>
                    </div>
                <% } %>
            </div>
            
            <!-- 4. Call to Action -->
            <div class="order-<%= components.cta %> z-10 mt-4">
                <% if (layout === 'tiktok-modern') { %>
                    <div class="bg-[#fe2c55] text-white px-6 py-3 rounded-full font-bold flex items-center gap-2 animate-bounce-custom">
                        Apply di TikWork <i class="fas fa-arrow-right"></i>
                    </div>
                <% } else if (layout === 'cyber-grid') { %>
                    <button class="border-2 border-green-400 bg-green-400/20 text-green-400 px-6 py-3 font-mono font-bold hover:bg-green-400 hover:text-black transition-colors">
                        > APPLY_NOW <
                    </button>
                <% } else if (layout === 'bold-typography') { %>
                    <div class="bg-red-500 text-white px-8 py-4 font-black text-xl uppercase transform rotate-1 hover:rotate-0 transition-transform">
                        APPLY NOW
                    </div>
                <% } else if (layout === 'neobrutalism') { %>
                    <div class="border-4 border-black bg-red-500 text-white px-6 py-3 font-bold transform hover:translate-x-1 hover:translate-y-1 transition-transform shadow-[8px_8px_0px_0px_#000]">
                        APPLY NOW <i class="fas fa-arrow-down ml-2"></i>
                    </div>
                <% } else if (layout === 'glass-modern') { %>
                    <div class="backdrop-blur-lg bg-white/20 border border-white/30 text-white px-6 py-3 rounded-full font-bold flex items-center gap-2 hover:bg-white/30 transition-colors">
                        Get Started <i class="fas fa-sparkles"></i>
                    </div>
                <% } else { %>
                    <div class="btn-<%= buttonStyle %> <%= palette.text %> <%= palette.bg.replace('bg-', 'bg-').replace('text-', 'bg-') %>">
                        Apply Now <i class="fas fa-arrow-down ml-2"></i>
                    </div>
                <% } %>
            </div>
            
            <!-- Hashtags for TikTok-style layouts -->
            <% if (['tiktok-modern', 'cyber-grid', 'glass-modern'].includes(layout)) { %>
                <div class="flex flex-wrap gap-2 mt-4 text-sm opacity-80">
                    <span>#<%= (poster && poster.companyHandle) ? poster.companyHandle.replace('@', '') : 'tikwork' %></span>
                    <span>#hiring</span>
                    <span>#jobs</span>
                    <span>#tikwork</span>
                    <% if (poster && poster.categories) { %>
                        <% poster.categories.forEach(function(tag) { %>
                            <span>#<%= String(tag).replace(/\s+/g,'') %></span>
                        <% }) %>
                    <% } %>
                </div>
            <% } %>
            
        </div>
    </div>
    
    <!-- Mobile Responsiveness -->
    <style>
        @media (max-width: 768px) {
            body {
                background-color: #000;
                align-items: flex-start;
            }
            .max-w-\[420px\] {
                max-width: none;
                width: 100vw;
                height: 100vh;
                aspect-ratio: auto;
                box-shadow: none;
            }
        }
    </style>
</body>
</html>